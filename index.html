<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Honor the Gato</title>
<link rel="icon" type="image/png" href="gato.png">
<style>
  body {
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    margin: 0;
    background-color: #2c2c2c;
    font-family: Arial, sans-serif;
    overflow: hidden;
    position: relative;
    color: white;
  }
  img {
    max-height: 75vh;
    max-width: 100%;
    transition: transform 0.1s ease-out, filter 0.2s linear;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
  }
  #gato2, #gato3, #gato4, #mango {
    display: none;
    position: absolute;
  }
  #gato2, #gato3, #gato4 { width: 150px; height: 150px; }
  #mango { width: 80px; }

  .info-box {
    position: absolute;
    bottom: 20px;
    left: 50%;
    transform: translateX(-50%);
    background: #444;
    color: white;
    padding: 15px 25px;
    border-radius: 12px;
    text-align: center;
    box-shadow: 0 4px 10px rgba(0,0,0,0.5);
    font-size: 18px;
  }
  .timer { font-weight: bold; margin-bottom: 5px; }
  .role { color: #ddd; }

  .sidebar { position: fixed; top:0; right:-250px; width:250px; height:100%; background:#333; box-shadow:-2px 0 8px rgba(0,0,0,0.5); transition:right 0.3s ease; padding:20px; box-sizing:border-box; color:white; }
  .sidebar.open { right:0; }
  .sidebar-toggle { position: fixed; top:50%; right:0; transform: translateY(-50%); background:#444; border:1px solid #ccc; border-right:none; padding:10px; cursor:pointer; box-shadow:-2px 0 6px rgba(0,0,0,0.5); border-radius:8px 0 0 8px; color:white; }
  .toggle-item { margin-bottom: 20px; }
  .switch { position: relative; display: inline-block; width:50px; height:25px; }
  .switch input { opacity:0; width:0; height:0; }
  .slider { position:absolute; cursor:pointer; top:0; left:0; right:0; bottom:0; background-color:#777; transition:.3s; border-radius:25px; }
  .slider:before { position:absolute; content:""; height:19px; width:19px; left:3px; bottom:3px; background:white; transition:.3s; border-radius:50%; }
  input:checked + .slider { background-color: #66bb6a; }
  input:checked + .slider:before { transform: translateX(24px); }
  .locked { opacity:0.5; pointer-events:none; }

  .bottom-left-text {
    position: absolute;
    bottom: 20px;
    left: 20px;
    background: #444;
    color: white;
    padding: 10px 15px;
    border-radius: 8px;
    box-shadow: 0 2px 6px rgba(0,0,0,0.5);
    font-size: 16px;
  }

  .secret-button {
    position: absolute;
    bottom: 10px;
    right: 10px;
    width: 50px;
    height: 50px;
    background: transparent;
    border: none;
    cursor: pointer;
  }
</style>
</head>
<body>

<img src="gato.png" id="gato">
<img src="gato.png" id="gato2">
<img src="gato.png" id="gato3">
<img src="gato.png" id="gato4">
<img src="mango.png" id="mango">

<div class="info-box">
  <div class="timer">You have been honoring the gato for 0 seconds</div>
  <div class="role">Role: None</div>
</div>

<div class="bottom-left-text">Hi</div>
<button class="secret-button" id="secret"></button>

<div class="sidebar" id="sidebar">
  <div class="toggle-item">
    <label>Main Gato Spin (1000s+)</label>
    <label class="switch">
      <input type="checkbox" id="toggle1" disabled>
      <span class="slider"></span>
    </label>
  </div>
  <div class="toggle-item">
    <label>Another Gato (500s+)</label>
    <label class="switch">
      <input type="checkbox" id="toggle2" disabled>
      <span class="slider"></span>
    </label>
  </div>
  <div class="toggle-item">
    <label>Gato Dance Party (1000s+)</label>
    <label class="switch">
      <input type="checkbox" id="toggle5" disabled>
      <span class="slider"></span>
    </label>
  </div>
  <div class="toggle-item">
    <label>Color Change (2500s+)</label>
    <label class="switch">
      <input type="checkbox" id="toggle3" disabled>
      <span class="slider"></span>
    </label>
  </div>
  <div class="toggle-item">
    <label>Extra Gatos (50000s+)</label>
    <label class="switch">
      <input type="checkbox" id="toggle4" disabled>
      <span class="slider"></span>
    </label>
  </div>
  <div class="toggle-item">
    <label>Bouncing Mango (1250s+)</label>
    <label class="switch">
      <input type="checkbox" id="toggleMango" disabled>
      <span class="slider"></span>
    </label>
  </div>
</div>
<div class="sidebar-toggle" id="sidebarToggle">❯</div>

<script>
let seconds = parseInt(localStorage.getItem("gato_seconds")) || 0;
let rotation = 0, moveX = 0, moveY = 0, hueShift = 0;
const gato = document.getElementById('gato');
const gato2 = document.getElementById('gato2');
const gato3 = document.getElementById('gato3');
const gato4 = document.getElementById('gato4');
const mango = document.getElementById('mango');
const timerElement = document.querySelector('.timer');
const roleElement = document.querySelector('.role');
const sidebar = document.getElementById('sidebar');
const sidebarToggle = document.getElementById('sidebarToggle');

const toggles = [
  { id:"toggle1", requirement:1000 },
  { id:"toggle2", requirement:500 },
  { id:"toggle5", requirement:1000 },
  { id:"toggle3", requirement:2500 },
  { id:"toggle4", requirement:50000 },
  { id:"toggleMango", requirement:1250 }
];

function updateRole(sec){
  if(sec>=100000) return "KITTYYY";
  if(sec>=50000) return "SR EPIC";
  if(sec>=10000) return "SR EPIC";
  if(sec>=500) return "Sr Very Epic";
  if(sec>=250) return "Sr Epic";
  if(sec>=100) return "Sr";
  if(sec>=50) return "Sr Beta";
  if(sec>=15) return "Meh";
  if(sec>=5) return "Beta";
  if(sec>=0) return "Jr Beta";
  return "None";
}

function refreshDisplay(){
  timerElement.textContent = `You have been honoring the gato for ${seconds} second${seconds!==1?'s':''}`;
  roleElement.textContent = `Role: ${updateRole(seconds)}`;
  toggles.forEach(t=>{
    const el = document.getElementById(t.id);
    if(seconds >= t.requirement){
      el.disabled=false;
      el.parentElement.parentElement.classList.remove("locked");
    } else{
      el.disabled=true;
      el.checked=false;
      el.parentElement.parentElement.classList.add("locked");
    }
  });
}

setInterval(()=>{
  seconds++;
  localStorage.setItem("gato_seconds", seconds);
  refreshDisplay();
},1000);

document.addEventListener('mousemove', (e)=>{
  const centerX = window.innerWidth/2;
  const centerY = window.innerHeight/2;
  moveX = (e.clientX - centerX)/50;
  moveY = (e.clientY - centerY)/50;
});

sidebarToggle.addEventListener('click',()=>{
  sidebar.classList.toggle('open');
  sidebarToggle.textContent = sidebar.classList.contains('open')?"❮":"❯";
});

document.getElementById("secret").addEventListener('click', ()=>{
  const input = prompt("Enter new seconds value:", seconds);
  const newSeconds = parseInt(input, 10);
  if(!isNaN(newSeconds) && newSeconds >= 0){
    seconds = newSeconds;
    localStorage.setItem("gato_seconds", seconds);
    refreshDisplay();
  }
});

let lastTime = null;
function animate(time){
  if(lastTime !== null){
    const delta = (time - lastTime)/1000;

    // Main Gato Spin
    if(document.getElementById("toggle1").checked){
      rotation += Math.max(1, seconds/100) * delta * 50;
    }

    // Spin Together toggle (Gato2) visible and spinning only if toggled
    const toggle2 = document.getElementById("toggle2").checked;
    if(toggle2){
      gato2.style.display = "block";
      const offsetX = 90;
      gato2.style.transform = `translate(-50%,-50%) translate(${moveX+offsetX}px,${moveY}px) rotate(${rotation}deg)`;
    } else {
      gato2.style.display = "none";
    }

    // Dance Party toggle
    if(document.getElementById("toggle5").checked){
      const bounceX = Math.sin(time/200) * 50;
      const bounceY = Math.cos(time/200) * 50;
      gato.style.transform = `translate(-50%,-50%) translate(${moveX+bounceX}px,${moveY+bounceY}px) rotate(${rotation}deg)`;
      if(toggle2) gato2.style.transform = `translate(-50%,-50%) translate(${moveX+90+bounceX*1.2}px,${moveY+bounceY*1.2}px) rotate(${rotation}deg)`;
    } else {
      gato.style.transform = `translate(-50%,-50%) translate(${moveX}px,${moveY}px) rotate(${rotation}deg)`;
    }

    // Color change toggle
    if(document.getElementById("toggle3").checked){
      hueShift = (hueShift + 50*delta) % 360;
      gato.style.filter=`hue-rotate(${hueShift}deg)`;
    } else gato.style.filter="none";

    // Extra gatos toggle
    if(document.getElementById("toggle4").checked){
      gato3.style.display="block";
      gato4.style.display="block";
      const radius=250;
      gato3.style.transform=`translate(-50%,-50%) translate(${-radius}px,0px) rotate(${rotation}deg)`;
      gato4.style.transform=`translate(-50%,-50%) translate(${radius}px,0px) rotate(${rotation}deg)`;
    } else{
      gato3.style.display="none";
      gato4.style.display="none";
    }

    // Mango toggle
    if(document.getElementById("toggleMango").checked){
      mango.style.display="block";
      const bounce = Math.sin(time/200) * 50;
      // position relative to center
      mango.style.left = `${window.innerWidth/2 + 150}px`;
      mango.style.top = `${window.innerHeight/2 + bounce}px`;
    } else {
      mango.style.display="none";
    }

  }
  lastTime = time;
  requestAnimationFrame(animate);
}
requestAnimationFrame(animate);
refreshDisplay();
</script>
</body>
</html>
